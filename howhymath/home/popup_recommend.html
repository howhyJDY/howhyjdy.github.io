<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8"/>
    <title>하와이매쓰</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <!-- favicon -->
    <link rel="shortcut icon" href="https://img.howhymath.com/hmath/favicon.ico">
    <!-- base css -->
    <link rel="stylesheet" type="text/css" href="https://img.dtsoft.co.kr/assets.howhy/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://img.dtsoft.co.kr/assets.howhy/css/icons.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://img.dtsoft.co.kr/assets.howhy/css/metisMenu.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://img.dtsoft.co.kr/assets.howhy/css/app.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-lite.min.css"/>
    <!-- site css -->
    <link rel="stylesheet" type="text/css" href="https://img.dtsoft.co.kr/cdml/cdml.css?v=1735181771"/>
    <link rel="stylesheet" type="text/css" href="https://img.dtsoft.co.kr/fx/fx.v2.css?v=1735181771"/>
    <!-- link rel="stylesheet" type="text/css" href="https://img.howhymath.com/custom/custom.css?v=1735181771" /-->
    <!-- <link rel="stylesheet" type="text/css" href="/app//css/work.css?v=1735181771"/> -->
    <link rel="stylesheet" type="text/css" href="../assets/css/work.css?v=1735181771"/>
    <!-- base javascript -->
    <script src="https://img.dtsoft.co.kr/assets.howhy/js/jquery.min.js"></script>
    <script src="https://img.dtsoft.co.kr/assets.howhy/js/bootstrap.bundle.min.js"></script>
    <script src="https://img.dtsoft.co.kr/assets.howhy/js/metismenu.min.js"></script>
    <script src="https://img.dtsoft.co.kr/assets.howhy/js/waves.js"></script>
    <script src="https://img.dtsoft.co.kr/assets.howhy/js/feather.min.js"></script>
    <script src="https://img.dtsoft.co.kr/assets.howhy/js/simplebar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-lite.min.js"></script>
    <!-- site javascript -->
    <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                showMathMenu: false,
                tex2jax: { displayMath: [ ["$$","$$"] ] },
                "HTML-CSS": { fonts: ["Latin-Modern"] }
            });
        </script>
    <script type="text/javascript" src="https://img.dtsoft.co.kr/mathjax/MathJax.js?config=TeX-AMS_HTML"></script>
    <script type="text/javascript" src="https://img.dtsoft.co.kr/fx/fx.v2.js?v=1735181771"></script>
    <script type="text/javascript" src="https://img.dtsoft.co.kr/cdml/cdml.js?v=1735181771"></script>
</head>
<script>
cdml_img_url = "https://img.dtsoft.co.kr/cdml/img/";
cdml_api_url = "https://tutor.howhymath.com/lms_api/questions";
var lms_domain = "https://tutor.howhymath.com";
</script>
<body data-layout="horizontal" data-bs-padding-right="" class="modal-open" style="overflow: hidden; padding-right: 8px;">
    <div style="display:none">$$\require{cancel}$$</div>
    <div class="page-wrapper" style="padding:0;width:100% !important;">
        <div class="page-content page-studylist"><!--250131 캘린더>오늘의 일정 전용 클래스 추가-->
            <div class="container-fluid">
                <link rel='stylesheet' type='text/css' href='https://img.dtsoft.co.kr/assets.howhy/plugins/jquery-ui/jquery-ui.css'>
                <link rel='stylesheet' type='text/css' href='https://img.dtsoft.co.kr/assets.howhy/plugins/contextmenu/jquery.contextMenu.min.css'/>
                <script type='text/javascript' charset='utf-8' src='https://img.dtsoft.co.kr/assets.howhy/plugins/jquery-ui/jquery-ui.js'></script>
                <script src='https://img.dtsoft.co.kr/assets.howhy/plugins/cookie/js.cookie.min.js'></script>
                <script type='text/javascript' src='https://img.dtsoft.co.kr/assets.howhy/plugins/contextmenu/jquery.contextMenu.min.js'></script>
                <link rel='stylesheet' href='https://img.dtsoft.co.kr/assets.howhy/plugins/fancytree/skin-vista/ui.fancytree.css'/>
                <link href='/app/css/fancytree.css?t=1738552675' rel='stylesheet' type='text/css'/>
                <script type='text/javascript' src='https://img.dtsoft.co.kr/assets.howhy/plugins/fancytree/jquery.fancytree-all.min.js'></script>
                <script type='text/javascript' src='https://img.dtsoft.co.kr/assets.howhy/plugins/fancytree/modules/jquery.fancytree.persist.js'></script>
                <script type='text/javascript' src='https://img.dtsoft.co.kr/assets.howhy/plugins/fancytree/ext/jquery.fancytree.contextMenu.js'></script>
                <link href='https://img.dtsoft.co.kr/assets.howhy/plugins/select2/select2.min.css' rel='stylesheet' type='text/css'/>
                <link href='/app/css/select2.css' rel='stylesheet' type='text/css'/>
                <script src='https://img.dtsoft.co.kr/assets.howhy/plugins/select2/select2.min.js'></script>
                <script src='https://img.howhymath.com/custom/select2.js'></script>
                <script type="text/javascript" src="https://img.howhymath.com/custom/lms_print.js?20250122"></script>
                <style>
                    .check-btn {
                        border-radius: 8px;
                        background: #9FDCBC;
                        border: none;
                        padding: 10px 10px;
                        color: var(--Primary-Mint-text01, #0B514E);
                        font-size: 12px;
                        font-style: normal;
                        font-weight: 500;
                        line-height: normal;
                    }
                </style>
                <div class="row">
                    <div class="col-sm-3">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">학생선택</div>
                            </div>
                            <div class="card-body student_tree_html" style="overflow-x:auto;">
                                <style>
                                    .form-switch.form-switch-success .form-check-input:checked {
                                        background-color: #7adfda;
                                        border-color: #7adfda;
                                    }
                                </style>
                                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
                
                                <ul class="nav nav-tabs justify-content-end" style="margin-bottom: 5px;" id="student_tree_tab">
                                    <li class="nav-item">
                                        <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#grade_tree" type="button" role="tab" aria-controls="grade_tree" aria-selected="true" style="font-size:14px !important;">학년별보기</button>
                                    </li>
                                    <li class="nav-item">
                                        <button class="nav-link " data-bs-toggle="pill" data-bs-target="#classroom_tree" type="button" role="tab" aria-controls="classroom_tree" aria-selected="false" style="font-size:14px !important;">반별보기</button>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div class="tab-pane fade active show" id="grade_tree" role="tabpanel" aria-labelledby="grade_tree-tab">
                                        <div class="student_grade_tree">
                                            <ul class="ui-fancytree-source fancytree-helper-hidden">
                                                <li id="grade-e5" class="folder">
                                                    초5 (1)
                                                    <ul>
                                                        <li id="grade-student-325">이하와(학생)</li>
                                                    </ul>
                                                </li>
                                                <li id="grade-e5" class="folder">
                                                    중1 (2)
                                                    <ul>
                                                        <li id="grade-student-325">이하와(학생)</li>
                                                        <li id="grade-student-326">박하와(학생)</li>
                                                    </ul>
                                                </li>
                                            </ul>
                                            
                                        <ul id="ft-id-1" class="ui-fancytree fancytree-container fancytree-plain" tabindex="0" role="tree" aria-multiselectable="true"><li role="treeitem" aria-expanded="true" aria-selected="false" class=""><span class="fancytree-node fancytree-active fancytree-expanded fancytree-folder fancytree-has-children fancytree-exp-e fancytree-ico-ef"><span role="button" class="fancytree-expander"></span><span role="presentation" class="fancytree-icon"></span><span class="fancytree-title">초5 (1)</span></span><ul role="group"><li role="treeitem" aria-selected="false" class="fancytree-lastsib"><span class="fancytree-node fancytree-lastsib fancytree-exp-nl fancytree-ico-c"><span class="fancytree-expander"></span><span role="presentation" class="fancytree-icon"></span><span class="fancytree-title">이하와</span><button type="button" style="border:0;float:right;margin:2px;" class="green-box" onclick="popup_wnote(325);"><i class="fas fa-plus"></i>오답</button><button type="button" style="border:0;float:right;margin:2px;" class="green-box" onclick="popup_recommend(325);"><i class="fas fa-plus"></i>맞춤</button><button type="button" style="padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_student_memo('325');">메모</button><button type="button" style="padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_attendances('325');">출결</button></span></li></ul></li><li role="treeitem" aria-expanded="false" aria-selected="false" class="fancytree-lastsib"><span class="fancytree-node fancytree-folder fancytree-has-children fancytree-lastsib fancytree-exp-cl fancytree-ico-cf"><span role="button" class="fancytree-expander"></span><span role="presentation" class="fancytree-icon"></span><span class="fancytree-title">중1 (2)</span></span></li>
                                        </ul></div>
                                    </div>
                                    <div class="tab-pane fade " id="classroom_tree" role="tabpanel" aria-labelledby="classroom_tree-tab">
                                        <div class="student_classroom_tree">
                                            <ul class="ui-fancytree-source fancytree-helper-hidden">
                                                <li id="classroom-219" class="folder">
                                                    하와이 (1)
                                                    <ul>
                                                        <li id="classroom-student-325">이하와(학생)</li>
                                                        <li id="classroom-student-326">박하와(학생)</li>
                                                    </ul>
                                                </li>
                                            </ul>
                                            
                                        <ul id="ft-id-2" class="ui-fancytree fancytree-container fancytree-plain" tabindex="0" role="tree" aria-multiselectable="true"><li role="treeitem" aria-expanded="false" aria-selected="false" class="fancytree-lastsib"><span class="fancytree-node fancytree-folder fancytree-has-children fancytree-lastsib fancytree-exp-cl fancytree-ico-cf"><span role="button" class="fancytree-expander"></span><span role="presentation" class="fancytree-icon"></span><span class="fancytree-title">하와이 (1)</span></span></li></ul></div>
                                    </div>
                                </div>
                                
                                <div class="row" style="margin:0;padding: 20px 0;">
                                    <div class="col-md-12" style="text-align:right;">
                                        <div class="form-check form-switch form-switch-success" style="width: 140px;float:right;">
                                            <input class="form-check-input" name="attendance_check" type="checkbox" id="attendance_check">
                                            <label class="form-check-label" for="attendance_check">출석 학생만 보기</label>
                                        </div>
                                    </div>
                                </div>

                                <script>

                                    var attendances = {};
                                    
                                    
                                    $( document ).ready(function() {
                                    /*
                                        var prefix_arr = [ 'student_grade_tree', 'student_classroom_tree' ];
                                        // localStorage에서 모든 항목을 순회하며 선택 상태를 지우기
                                        for (var i = 0; i < localStorage.length; i++) {
                                            var key = localStorage.key(i);
                                            for( var j=0 ; j<prefix_arr.length ; j++ ) {
                                                var treeKeyPrefix = prefix_arr[j];
                                                if (key.startsWith(treeKeyPrefix) && key.endsWith("-focus")) localStorage.removeItem(key);
                                                if (key.startsWith(treeKeyPrefix) && key.endsWith("-active")) localStorage.removeItem(key);
                                                if (key.startsWith(treeKeyPrefix) && key.endsWith("-selected")) localStorage.removeItem(key);
                                            }
                                        }
                                    */
                                    
                                        $('input[type=checkbox][name=attendance_check]').change(function() {
                                            if ($(this).is(':checked')) { show_attendance('y'); }
                                            else { show_attendance('n'); }
                                        });
                                    
                                        $( "#student_tree_tab .nav-link" ).on('click', function() {
                                            var $this = $(this);
                                    
                                            $.removeCookie('menu_tab_index');
                                    
                                            if( $this.data( "bs-target" ) == '#classroom_tree' )
                                                $.cookie( 'menu_tab_index', 'classroom', {path: "/", domain: '.howhymath.com'} );
                                            else
                                                $.cookie( 'menu_tab_index', 'grade', {path: "/", domain: '.howhymath.com'} );
                                    
                                            // alert(  $this.data( "bs-target" ) );
                                    
                                        });
                                    
                                    
                                        $('.student_grade_tree').fancytree({
                                            extensions: ["persist"],
                                                persist: { cookiePrefix: 'grade-tree-' },
                                            init: function(event, data) {
                                                data.tree.selectAll(false);
                                    /*
                                                var all = data.tree.findAll('');
                                                for( var i=0 ; i<all.length ; i++ ) {
                                                    var node = all[i];
                                                } 
                                                data.tree.render();
                                    */
                                            },
                                            renderNode: function (event, data) {
                                                var node = data.node;
                                                if( node.key.indexOf('grade-student-') == -1 ) return;
                                    
                                                var student_id = node.key.replace( "grade-student-", "" )
                                                var $nodeSpan = $(node.span);
                                                if( $nodeSpan.html().indexOf( '메모' ) != -1 ) return;
                                    
                                                $nodeSpan.append( '<button type="button" style="border:0;float:right;margin:2px;" class="green-box" onclick="popup_wnote('+student_id+');"><i class="fas fa-plus"></i>오답</button><button type="button" style="border:0;float:right;margin:2px;" class="green-box" onclick="popup_recommend('+student_id+');"><i class="fas fa-plus"></i>맞춤</button>' );
                                                $nodeSpan.append( '<button type="button" style="padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_student_memo(\''+student_id+'\');">메모</button>' );
                                                if(  attendances.hasOwnProperty( student_id ) )
                                                {
                                                    if( attendances[student_id] == 'a' )
                                                        $nodeSpan.append( '<button type="button" style="border: 1px solid rgba(23,97,253,0.5);color: #1761fd;padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_attendances(\''+student_id+'\');">입실</button>' );
                                                    else
                                                        $nodeSpan.append( '<button type="button" style="border:1px solid  #FB3232;color: #FB3232;padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_attendances(\''+student_id+'\');">퇴실</button>' );
                                                }
                                                else
                                                    $nodeSpan.append( '<button type="button" style="padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_attendances(\''+student_id+'\');">출결</button>' );
                                    
                                            },
                                            click: function(event, data) {
                                                if( data.targetType == "expander" ) return;
                                                if( data.targetType != 'title' ) return;
                                    
                                                var node = data.node;
                                                if( node.key.indexOf( 'grade-student-'  ) == -1 ) return;
                                    
                                                var student_id = node.key.replace( "grade-student-", "" );
                                                location.href= "/calendars/study_list?study_on=2024-12-31&student_id="+student_id;
                                            },
                                        });
                                    
                                        $('.student_classroom_tree').fancytree({
                                            extensions: ["persist"],
                                            persist: { cookiePrefix: 'classroom-tree-' },
                                                init: function(event, data) {
                                                data.tree.selectAll(false);
                                    /*
                                                var all = data.tree.findAll('');
                                                for( var i=0 ; i<all.length ; i++ ) {
                                                    var node = all[i];
                                                }
                                                data.tree.render();
                                    */
                                            },
                                            renderNode: function (event, data) {
                                                var node = data.node;
                                                if( node.key.indexOf( 'classroom-student-'  ) == -1 ) return;
                                    
                                                var student_id = node.key.replace( "classroom-student-", "" );
                                    
                                                var $nodeSpan = $(node.span);
                                                if( $nodeSpan.html().indexOf( '메모' ) != -1 ) return;
                                    
                                                $nodeSpan.append( '<button type="button" style="border:0;float:right;margin:2px;" class="green-box" onclick="popup_wnote('+student_id+');"><i class="fas fa-plus"></i>오답</button><button type="button" style="border:0;float:right;margin:2px;" class="green-box" onclick="popup_recommend('+student_id+');"><i class="fas fa-plus"></i>맞춤</button>' );
                                                $nodeSpan.append( '<button type="button" style="padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_student_memo(\''+student_id+'\');">메모</button>' );
                                                if(  attendances.hasOwnProperty( student_id ) )
                                                {
                                                    if( attendances[student_id] == 'a' )
                                                        $nodeSpan.append( '<button type="button" style="border: 1px solid rgba(23,97,253,0.5);color: #1761fd;padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_attendances(\''+student_id+'\');">입실</button>' );
                                                    else
                                                        $nodeSpan.append( '<button type="button" style="border:1px solid  #FB3232;color: #FB3232;padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_attendances(\''+student_id+'\');">퇴실</button>' );
                                                }
                                                else
                                                        $nodeSpan.append( '<button type="button" style="padding: 5px 8px;font-size:12px;float:right;margin:2px;" class="wbtn-line" onclick="popup_attendances(\''+student_id+'\');">출결</button>' );
                                            },
                                            click: function(event, data) {
                                                if( data.targetType == "expander" ) return;
                                                if( data.targetType != 'title' ) return;
                                    
                                                var node = data.node;
                                                if( node.key.indexOf( 'classroom-student-'  ) == -1 ) return;
                                    
                                                var student_id = node.key.replace( "classroom-student-", "" );
                                                location.href= "/calendars/study_list?study_on=2024-12-31&student_id="+student_id;
                                            },
                                        });
                                    });
                                    
                                    function student_tree_all_select( checked )
                                    {
                                        var current_target = $('ul#student_tree_tab li button.active').data('bs-target');
                                    
                                        if( current_target == '#classroom_tree' )
                                            $.ui.fancytree.getTree(".student_classroom_tree").selectAll( checked );
                                    
                                        if( current_target == '#grade_tree' )
                                            $.ui.fancytree.getTree(".student_grade_tree").selectAll( checked );
                                    }
                                    
                                    function student_tree_get_student_ids()
                                    {
                                        var tree_css = ".student_classroom_tree";
                                        var prefix = "classroom-student-";
                                    
                                    
                                        var current_target = $('ul#student_tree_tab li button.active').data('bs-target');
                                        if( current_target == '#grade_tree' )
                                        {
                                            tree_css = ".student_grade_tree";
                                            prefix = "grade-student-";
                                        }
                                    
                                        var ids = '';
                                        var selNodes = $.ui.fancytree.getTree(tree_css).getSelectedNodes();
                                        for( var i=0 ; i<selNodes.length ; i++ )
                                        {
                                            var node = selNodes[i];
                                            if( node.key.indexOf(prefix) == -1 ) continue;
                                    
                                            if( ids != '' ) ids += ',';
                                            ids += node.key.replace(prefix, '');
                                        }
                                    
                                        return ids;
                                    }
                                    
                                    
                                    function popup_student_memo( student_id )
                                    {
                                        // fx_layer_popup_v2( 'popup_student_memo', '/students/popup_memo?student_id='+student_id, 'modal-lg modal-dialog-centered' );
                                        fx_popup_window( '/teacher_notes/index?student_id='+student_id, { name: 'popup_student_memo', width: window.screen.width*2/3, height: window.screen.height,scrollbars:'yes', resizable: 'yes' });
                                    }
                                    
                                    function popup_attendances( student_id )
                                    {
                                        fx_layer_popup_v2( 'popup_attendances', '/students/popup_attendances?student_id='+student_id, 'modal-lg modal-dialog-centered' );
                                    }
                                    
                                    function show_attendance( yn )
                                    {
                                        $.cookie( 'menu_attendance_yn', yn, {path: "/", domain: '.howhymath.com'});
                                    
                                        // $(".student_tree_html").html( '' );
                                        // get_student_tree_html();
                                    }
                                    
                                    </script>

                            </div>
                        </div>
                    </div>
                    <div class="col-sm-9">
                        <div class="row" style="margin-bottom: 5px;">
                            <div class="col-sm-12 white padding-zero">
                                <div class="study-management-header">
                                    <div class="left">
                                        <div>오늘의 일정</div>
                                    </div>
                                    <div class="right">
                                        <button class="mbtn" type="button" onclick="create_event();">+추가</button>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="table-responsive">
                                            <table class="table table-striped mb-0 table-border-none">
                                            <colgroup>
                                            <col width="20%">
                                            <col>
                                            <col width="100">
                                            <col width="100">
                                            </colgroup>
                                            <thead>
                                                <tr>
                                                    <th>시간</th>
                                                    <th>일정</th>
                                                    <th>수정</th>
                                                    <th>삭제</th>
                                                </tr>
                                                <tr>
                                                    <th>종일</th>
                                                    <th style="text-align:left;">오늘의 일정 추가</th>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-soft-success btn-circle" onclick="edit_event( 67);"><i class="dripicons-pencil"></i></button>
                                                    </td>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-soft-danger btn-circle" onclick="delete_event( 67);"><i class="dripicons-trash"></i></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>종일</th>
                                                    <th style="text-align:left;">오늘의 일정2</th>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-soft-success btn-circle" onclick="edit_event( 68);"><i class="dripicons-pencil"></i></button>
                                                    </td>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-soft-danger btn-circle" onclick="delete_event( 68);"><i class="dripicons-trash"></i></button>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>13:47 ~ 16:46</th>
                                                    <th style="text-align:left;">오오늘를의이의 일정저저어정</th>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-soft-success btn-circle" onclick="edit_event( 69);"><i class="dripicons-pencil"></i></button>
                                                    </td>
                                                    <td>
                                                        <button type="button" class="btn btn-sm btn-soft-danger btn-circle" onclick="delete_event( 69);"><i class="dripicons-trash"></i></button>
                                                    </td>
                                                </tr>
                                                </thead>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 white padding-zero">
                                <div class="study-management-header">
                                    <div class="left">
                                        <div>
                                            학습자료
                                        </div>
                                    </div>
                                    <div class="right">
                                        <button class="mbtn" type="button" onclick="wrongnotes( 'ids');">일괄오답</button>
                                        <button class="mbtn" type="button" onclick="homeworks( 'ids');">일괄숙제</button>
                                        <button class="mbtn" type="button" onclick="study_dates( 'ids');">일괄이동</button>
                                        <button class="mbtn" type="button" onclick="scorings( 'exam', 'ids');">일괄채점</button>
                                        <button class="mbtn" type="button" onclick="prints_preview( 'exam', 'ids');">일괄인쇄</button>
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="table-responsive">
                                            <table class="table table-striped mb-0 table-border-none">
                                            <colgroup>
                                            <col>
                                            <col width='300'>
                                            <col>
                                            <col>
                                            <col>
                                            <col>
                                            <col>
                                            <col>
                                            <col>
                                            </colgroup>
                                            <thead>
                                            <tr>
                                                <th class=""><input type="checkbox" name="toggle_all" onclick="fx_all_checkbox( 'toggle_all', 'ids');"/></th>
                                                <th>시험지명</th>
                                                <th>수업일</th>
                                                <th>학생명</th>
                                                <th>인쇄/미리보기/공유</th>
                                                <th>강의수업</th>
                                                <th>채점</th>
                                                <th>숙제내주기<br>시험지 타입</th>
                                                <th>오답노트<br>만들기</th>
                                                <th>삭제</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td>
                                                    <input type="checkbox" name="ids" value="5955"/>
                                                </td>
                                                <td>
                                                    테스트 시험지 1회차
                                                </td>
                                                <td>
                                                    <button type="button" class="check-btn padding-30" onclick="change_study_on( 5955 );">
                                                    2024-12-31 </button>
                                                </td>
                                                <td>
                                                    이하와
                                                </td>
                                                <td>
                                                    <div class="btn-group btn-icon">
                                                        <button class="icon-box" style="text-decoration:underline;" onclick="print_preview( 'exam', '5955' );">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-printer"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
                                                        </button>
                                                        <button class="icon-box" onclick="show_paper_html( '테스트 시험지 1회차', '69496,33680,390055,58513,58779,230689,390197,390217,390218,135473,390262,209022,233208,39668,390348,136562,12070,12075,41171,70688', '' );">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-monitor"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
                                                        </button>
                                                        <button type="button" class="icon-box" onclick="clipboard_popup( 5955 );">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
                                                        </button>
                                                    </div>
                                                </td>
                                                <td>
                                                    <button class="icon-box" onclick="show_tablet_preview( '테스트 시험지 1회차', '이하와', '69496,33680,390055,58513,58779,230689,390197,390217,390218,135473,390262,209022,233208,39668,390348,136562,12070,12075,41171,70688','' );">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-smartphone"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>
                                                    </button>
                                                </td>
                                                <td>
                                                    <button type="button" class="check-btn padding-30" onclick="popup_score_v2( 'a=NTk1NTp0Y2g6MTc3&s=91ea0a7731b52587983ec22b8ae52a6e&rt=1738552675', '테스트 시험지 1회차' );">
                                                    채점 </button>
                                                </td>
                                                <td>
                                                    <button class="check-btn padding-30" type="button" onclick="make_homework( 5955 );">
                                                    숙제 </button>
                                                </td>
                                                <td>
                                                </td>
                                                <td>
                                                    <button type="button" class="wbtn-line" onclick="popup_remove_study_card( 5955 );">삭제</button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <input type="checkbox" name="ids" value="5956"/>
                                                </td>
                                                <td>
                                                    테스트 시험지 2회차
                                                </td>
                                                <td>
                                                    <button type="button" class="check-btn padding-30" onclick="change_study_on( 5956 );">
                                                    2024-12-31 </button>
                                                </td>
                                                <td>
                                                    이하와
                                                </td>
                                                <td>
                                                    <div class="btn-group btn-icon">
                                                        <button class="icon-box" style="text-decoration:underline;" onclick="print_preview( 'exam', '5956' );">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-printer"><polyline points="6 9 6 2 18 2 18 9"></polyline><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"></path><rect x="6" y="14" width="12" height="8"></rect></svg>
                                                        </button>
                                                        <button class="icon-box" onclick="show_paper_html( '테스트 시험지 2회차', '44944,239329,181016,132324,390085,255346,391165,133382,11813,11825,11839,391206,158408,160454,160714,390338,390343,12081,12092,390355', '' );">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-monitor"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
                                                        </button>
                                                        <button type="button" class="icon-box" onclick="clipboard_popup( 5956 );">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
                                                        </button>
                                                    </div>
                                                </td>
                                                <td>
                                                    <button class="icon-box" onclick="show_tablet_preview( '테스트 시험지 2회차', '이하와', '44944,239329,181016,132324,390085,255346,391165,133382,11813,11825,11839,391206,158408,160454,160714,390338,390343,12081,12092,390355','' );">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-smartphone"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>
                                                    </button>
                                                </td>
                                                <td>
                                                    <button type="button" class="check-btn padding-30" onclick="popup_score_v2( 'a=NTk1Njp0Y2g6MTc3&s=264bcb39abeb8d80128f740047b83496&rt=1738552675', '테스트 시험지 2회차' );">
                                                    채점 </button>
                                                </td>
                                                <td>
                                                    <button class="check-btn padding-30" type="button" onclick="make_homework( 5956 );">
                                                    숙제 </button>
                                                </td>
                                                <td>
                                                </td>
                                                <td>
                                                    <button type="button" class="wbtn-line" onclick="popup_remove_study_card( 5956 );">삭제</button>
                                                </td>
                                            </tr>
                                            </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    $(document).ready(function() {
                        // get_student_tree_html();
                        });
                    function tr_toggle( obj )
                    {
                        var id = $(obj).data('id');
                        var title = $(obj).html();
                        if( title.indexOf( "▶" ) != -1 )
                        {
                            $(".tr-detail-" + id).show();
                            $(obj).html( title.replace( "▶", "▼" ) );
                            $.cookie( 'tr'+id, 's', {path: "/", domain: '.howhymath.com'});
                        }
                        else
                        {
                            $(".tr-detail-" + id).hide();
                            $(obj).html( title.replace( "▼", "▶" ) );
                            $.cookie( 'tr'+id, 'c', {path: "/", domain: '.howhymath.com'});
                        }
                    }
                    function get_student_tree_html()// student tree
                    {
                        $(".student_tree_html").html( '' );
                        $.ajax({
                            type: "GET",
                            url: "/students/student_tree_html",
                            data: "study_on=2024-12-31&mode=study.main",
                            async : false,
                            success: function (response) {
                                $(".student_tree_html").html( response );
                            }
                        });
                    }
                    // 캘린더
                    function create_event()
                    {
                        fx_layer_popup_v2( 'item_create_popup', '/calendars/newone?event_on=2024-12-31', 'modal-lg modal-dialog-centered' );
                    }
                    function edit_event( id )
                    {
                        fx_layer_popup_v2( 'item_update_popup', '/calendars/edit?id='+id, 'modal-lg modal-dialog-centered' );
                    }
                    function delete_event( id )
                    {
                        fx_remove_link( '/calendars/remove?id=' + id );
                    }
                    function delete_all_events( id )
                    {
                        fx_remove_link( '/calendars/remove_all?id=' + id );
                    }
                    function load_book_details_box( box_id, book_student_id )
                    {
                        fx_load_widget( box_id, '/study_books/book_details?book_student_id='+book_student_id + "&check_box_name=" +book_student_id );
                    }
                    function prints_preview( type, name )
                    {
                        var ids = fx_get_checkboxes(name);
                        if( ids == "" )
                        {
                            alert("시험지를 선택해주세요.");
                            return false;
                        }
                        var check_url = "/scoring_prints/bundle_print_check?study_card_ids="+ids+"&type="+type;
                        var booking_url = "/scoring_prints/bundle_print_booking?study_card_ids="+ids+"&type="+type;
                        var print_url = "/scoring_prints/bundle_print?study_card_ids="+ids+"&type="+type;
                        $.ajax({
                            type: "GET",
                            url: "/scoring_prints/bundle_print_check",
                            data: "study_card_ids="+ids+"&type="+type,
                            beforeSend  : function() { fx_show_loading(); },
                            complete	: function() { fx_hide_loading(); },
                            success: function (response) {
                                if( response == "ok" )
                                    window.open( print_url ,"_blank");
                                else
                                    fx_layer_popup_v2( 'booking_popup', "/scoring_prints/bundle_print_booking?study_card_ids="+ids+"&type="+type, '' );
                            }
                        });
                    }
                    function print_preview( type, ids )
                    {
                        var url = "/scoring_prints/bundle_print?study_card_ids="+ids+"&type="+type;
                        window.open( url ,"_blank");
                    }
                    function homeworks( name )
                    {
                        var ids = fx_get_checkboxes(name);
                        if( ids == "" )
                        {
                            alert("시험지를 선택해주세요.");
                            return false;
                        }
                        make_homework( ids );
                    }
                    function study_dates( name )
                    {
                        var ids = fx_get_checkboxes(name);
                        if( ids == "" )
                        {
                            alert("시험지를 선택해주세요.");
                            return false;
                        }
                        change_study_on( ids );
                    }
                    function wrongnotes( name )
                    {
                        var ids = fx_get_checkboxes(name);
                        if( ids == "" )
                        {
                            alert("시험지를 선택해주세요.");
                            return false;
                        }
                        make_wrongnote( ids );
                    }
                    function popup_score_v2( argvs, name )
                    {
                                fx_layer_popup_v2( 'popup_score_v2', "https://bonsa.howhymath.com/su/ts?"+argvs, "modal-lg modal-dialog-centered");
                        }
                    function clipboard_popup( id ){
                        var url = "/scoring_prints/clipboard_popup?study_card_id="+id;
                        fx_layer_popup_v2( 'clipboard_popup', url, '' );
                    }
                    function popup_remove_study_card( study_card_id )
                    {
                        fx_layer_popup_v2( 'popup_remove_study_card', '/scoring_prints/popup_remove?id=' + study_card_id, '' );
                    }
                    function popup_remove_marking( study_card_id )
                    {
                        fx_layer_popup_v2( 'popup_remove_marking', '/scoring_prints/popup_remove_marking?id=' + study_card_id, "" );
                    }
                    function popup_wnote( student_id )
                    {
                        var url = "/personal_learnings/popup_wnote?student_id=" + student_id;
                        fx_layer_popup_v2( 'popup_wnote', url, "modal-lg modal-dialog-centered" );
                    }
                    function popup_recommend( student_id )
                    {
                        var url = "/personal_learnings/popup_recommend?student_id=" + student_id;
                        fx_layer_popup_v2( 'popup_recommend', url, "modal-lg modal-dialog-centered" );
                    }
                    function scorings( type, name )
                    {
                        var ids = fx_get_checkboxes(name);
                        if( ids == "" )
                        {
                            alert("시험지를 선택해주세요.");
                            return false;
                        }
                        fx_submit_link( '/scoring_prints/send_scorings?ids=' + ids );
                    }
                    function make_homework( ids )
                    {
                        fx_layer_popup_v2( 'make_homework', '/scoring_prints/popup_make_homework?ids='+ids, '' );
                    }
                    function change_study_on( ids )
                    {
                        fx_layer_popup_v2( 'change_study_on', '/scoring_prints/popup_change_study_on?ids='+ids, '' );
                    }
                    function make_wrongnote( ids )
                    {
                        fx_layer_popup_v2( 'make_wrongnote', '/scoring_prints/popup_make_wrongnote?ids='+ids, 'modal-lg modal-dialog-centered'  );
                    }
                    function update_book_student( id )
                    {
                        fx_layer_popup_v2( 'update_book_student', '/study_books/edit?id=' + id, ''  );
                    }
                </script>
            </div>
        </div>
    </div>
    <script src="https://img.howhymath.com/custom/custom.js?v=20231031"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            cdml_mathjax_init();
        });
    </script>

    <!-- 맞춤 시험지 출제 팝업 시작 -->
    <div class="modal fade show" id="popup_recommend" tabindex="-1" role="dialog" aria-modal="true" style="padding-right: 8px; display: block;">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content" id="popup_recommend-content">
                <style>
                    .level5 { border-radius: 4px; display:inline-block; background-color:#96ba7d; color:#fff; padding:2px; text-align:center; }
                    .level4 { border-radius: 4px; display:inline-block; background-color:#d3fc93; color:#fff; padding:2px; text-align:center; }
                    .level3 { border-radius: 4px; display:inline-block; background-color:#e3c97c; color:#fff; padding:2px; text-align:center; }
                    .level2 { border-radius: 4px; display:inline-block; background-color:#ffa5be; color:#fff; padding:2px; text-align:center; }
                    .level1 { border-radius: 4px; display:inline-block; background-color:#c96855; color:#fff; padding:2px; text-align:center; }
                    .level0 { border-radius: 4px; display:inline-block; background-color:#dddddd; color:#555; padding:2px; text-align:center; }
                </style>
                <div class="modal-header">
                    <div class="left">이하와 학생 맞춤 시험지 출제</div>
                    <img src="https://tutor.howhymath.com/app/img/icon_button_close.png" data-bs-dismiss="modal" aria-label="Close">
                </div>
                <div class="modal-body">
                    <div class="modal-content-header">
                        <div style="overflow-y:scroll; width:100%; height:220px;" id="chapter_lists">
                            <div class="modal-body">
                                <div class="row" style="margin: 0 0 5px 0;">
                                    <div class="col-md-6" style="text-align:left;">
                                        <select title="" id="grade-selector" style="width:100px;" class="form-control form-select">
                                            <option value="m03">초3</option>
                                            <option value="m05">초5</option>
                                            <option value="m06">초6</option>
                                            <option value="m18" selected="">중2</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6" style="text-align:right;">
                                        <img src="https://img.howhymath.com/custom/traffic_light.png" style="width:50px;margin-bottom: 3px;">
                                        <span class="level5" style="width:40px;">우수</span>
                                        <span class="level3" style="width:40px;">잘함</span>
                                        <span class="level1" style="width:40px;">분발</span>
                                    </div>
                                </div>
                                <table class="table table-striped mb-0 table-border-none wrong-modal-table">
                                <colgroup>
                                <col width="40">
                                <col>
                                <col>
                                <col width="80">
                                <col width="80">
                                <col width="80">
                                </colgroup>
                                <thead>
                                <tr>
                                    <th>
                                        <!-- 250131 input 태그 label태그로 감싸주세요
                                        <input type="checkbox" name="toggle_chapter_all" onclick="fx_all_checkbox( 'toggle_chapter_all', 'codes');"> -->
                                        <label><input type="checkbox" name="toggle_chapter_all" onclick="fx_all_checkbox( 'toggle_chapter_all', 'codes');"></label>
                                    </th>
                                    <th>대단원</th>
                                    <th>중단원</th>
                                    <th>단원<br>개념수</th>
                                    <th>학습한<br>개념수</th>
                                    <th>신호등</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td></td>
                                    <td style="text-align:left;">01. 유리수와 순환소수</td>
                                    <td style="text-align:left;">01. 유리수와 순환소수</td>
                                    <td>5</td>
                                    <td>0</td>
                                    <td>
                                        <!-- 250131 이미지 변경
                                        img src="https://img.howhymath.com/soo/img/level0.png" width=50-->
                                        <img src="../assets/hmath/img/icon_level1.svg" alt="잘함">
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="text-align:left;">01. 유리수와 순환소수</td>
                                    <td style="text-align:left;">02. 유리수와 순환소수의 관계</td>
                                    <td>16</td>
                                    <td>0</td>
                                    <td>
                                        <!-- 250131 이미지 변경
                                        img src="https://img.howhymath.com/soo/img/level0.png" width=50-->
                                        <img src="../assets/hmath/img/icon_level5.svg" alt="우수">
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="text-align:left;">02. 식의 계산</td>
                                    <td style="text-align:left;">01. 지수법칙</td>
                                    <td>11</td>
                                    <td>0</td>
                                    <td>
                                        <!-- 250131 이미지 변경
                                        <img src="https://img.howhymath.com/soo/img/level3.png" width=50 /> -->
                                        <img src="../assets/hmath/img/icon_level3.svg" alt="분발">
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="text-align:left;">02. 식의 계산</td>
                                    <td style="text-align:left;">02. 단항식과 다항식의 계산</td>
                                    <td>17</td>
                                    <td>0</td>
                                    <td><!-- img src="https://img.howhymath.com/soo/img/level0.png" width=50--></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="text-align:left;">02. 식의 계산</td>
                                    <td style="text-align:left;">03. 등식의 변형</td>
                                    <td>7</td>
                                    <td>0</td>
                                    <td><!-- img src="https://img.howhymath.com/soo/img/level0.png" width=50--></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="text-align:left;">03. 일차부등식</td>
                                    <td style="text-align:left;">01. 일차부등식과 뜻과 성질</td>
                                    <td>7</td>
                                    <td>0</td>
                                    <td><!-- img src="https://img.howhymath.com/soo/img/level0.png" width=50--></td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td style="text-align:left;">03. 일차부등식</td>
                                    <td style="text-align:left;">02. 일차부등식의 풀이</td>
                                    <td>27</td>
                                    <td>0</td>
                                    <td><!-- img src="https://img.howhymath.com/soo/img/level0.png" width=50--></td>
                                </tr>
                                </tbody>
                                </table>
                            </div>
                            <script>
                                $(document).ready(function() {
                                    $("#grade-selector").on( 'change', function() {
                                        get_chapter_lists( $(this).val() );
                                    });
                                });
                                function get_chapter_lists( mg )
                                {
                                    $.ajax({
                                        type: "GET",
                                        url: "/personal_learnings/chapter_lists",
                                        data: "student_id=325&mg=" + mg,
                                        success: function (response) {
                                            $('#chapter_lists').html( response );
                                            $("input[name='toggle_chapter_all']").trigger("click");
                                        }
                                    });
                                }
                            </script>
                        </div>
                    </div>
                </div>
                <div class="modal-body">
                    <form id="smart_chapter_form" method="get" action="/personal_learnings/make_recommend">
                        <input type="hidden" name="student_id" value="325">
                        <input id="chapter_input" type="hidden" name="chapter_codes" value="">
                        <table class="modal-table">
                        <colgroup>
                        <col width="30%">
                        <col width="70%">
                        </colgroup>
                        <tbody>
                        <tr>
                            <th>
                                맞춤 시험지
                            </th>
                            <td style="text-align:left;">
                                <label><input type="radio" name="rtype" value="bsc"> &nbsp; 기초튼튼</label>&nbsp;취약 개념 / 필수 개념 문제로 단원 재학습하기 <br>
                                <label><input type="radio" name="rtype" value="dep" checked=""> &nbsp; 실력향상</label>&nbsp;한 단계 높은 난이도로 단원의 성취도 높이기 <br>
                                <label><input type="radio" name="rtype" value="mct"> &nbsp; 미학습개념</label>&nbsp;풀어보지 않은 유형들로 단원의 학습 보완하기
                            </td>
                        </tr>
                        <tr>
                            <th>
                                문항수
                            </th>
                            <td>
                                <select class="form-control form-select" name="question_count">
                                    <option value="15">15문항</option>
                                    <option value="20" selected="">20문항</option>
                                    <option value="25">25문항</option>
                                    <option value="30">30문항</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th>
                                시험지명
                            </th>
                            <td class="fx-al">
                                <input type="text" title="" name="paper_name" value="2025-02-06 맞춤학습 (실력향상)" id="fx-form-paper_name" maxlength="100" placeholder="20자이내로 써 주세요." class="form-control paper_name">
                            </td>
                        </tr>
                        </tbody>
                        </table>
                    </form>
                    <p style="font-size:11px; text-align:left;">
                         ※ 선택한 조건의 문항이 부족한 경우 출제문항수가 줄어들 수 있습니다.
                    </p>
                    <div class="modal-bottom-btn-box">
                        <button type="button" class="save-btn" onclick="submit_form();">맞춤 시험지 만들기</button>
                        <button type="button" class="cancle-btn" data-bs-dismiss="modal">취소하기</button>
                    </div>
                </div>
                <script>
                    var exma_title = "2025-02-06 맞춤학습";
                    $(document).ready(function() {
                        get_chapter_lists( "" );
                        $( "input:radio[name=rtype]" ).on( "change", function() {
                            if( $(this).val() == "bsc" ) $("#fx-form-paper_name").val( exma_title + " (기초튼튼)"  );
                            if( $(this).val() == "dep" ) $("#fx-form-paper_name").val( exma_title + " (실력향상)");
                            if( $(this).val() == "mct" ) $("#fx-form-paper_name").val( exma_title + " (미학습개념)");
                        });
                    });
                    function get_chapter_lists( math_grade_cd )
                    {
                        $.ajax({
                            type: "GET",
                            url: "/personal_learnings/chapter_lists",
                            data: "student_id=325&mg=" + math_grade_cd,
                            success: function (response) {
                                $('#chapter_lists').html( response );
                                $("input[name='toggle_chapter_all']").trigger("click");
                            }
                        });
                    }
                    function submit_form()
                    {
                        var codes = fx_get_checkboxes('codes');
                        if( fx_empty(codes) )
                        {
                            alert("단원을 선택해주세요.");
                            return false;
                        }
                        $("#chapter_input").val( codes );
                        var name = $("#fx-form-paper_name").val();
                        if( name == "" )
                        {
                            alert("시험지명을 입력해주세요.");
                            return false;
                        }
                        if(get_check_text(name) != ""){
                            alert(get_check_text(name) + " 해당 특수문자는 사용 할 수 없습니다.");
                            return false;
                        }
                        $("#smart_chapter_form").submit();
                    }
                </script>
            </div>
        </div>
    </div>
    <div class="modal-backdrop fade show"></div>
    <!-- 맞춤 시험지 출제 팝업 끝 -->
</body>
</html>